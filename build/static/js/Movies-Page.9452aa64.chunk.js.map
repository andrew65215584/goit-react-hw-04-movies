{"version":3,"sources":["view/MovieList.js","view/MoviesPage.js"],"names":["MovieList","movies","location","query","console","log","map","movie","key","id","className","to","pathname","state","from","original_title","original_name","apiKey","MoviesPage","page","handleSubmit","e","a","preventDefault","formData","FormData","target","forEach","value","name","setState","Axios","get","response","data","results","this","props","onSubmit","type","autoComplete","autoFocus","placeholder","Component"],"mappings":"8PAwBeA,EArBG,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MAErC,OADAC,QAAQC,IAAIH,GAEV,4BACGD,EAAOK,KAAI,SAAAC,GAAK,OACf,wBAAIC,IAAKD,EAAME,IACb,kBAAC,IAAD,CACEC,UAAU,OACVC,GAAI,CACFC,SAAS,WAAD,OAAaL,EAAME,IAC3BI,MAAO,CAAEC,KAAMZ,EAASU,SAAUT,WAGnCI,EAAMQ,gBAAkBR,EAAMS,qBCbrCC,EAAS,mCAEFC,EAAb,4MACEL,MAAQ,CACNV,MAAO,GACPgB,KAAM,GACNlB,OAAQ,IAJZ,EAgBEmB,aAhBF,uCAgBiB,WAAMC,GAAN,mBAAAC,EAAA,6DACbD,EAAEE,iBACIC,EAAW,IAAIC,SAASJ,EAAEK,QAFnB,SAGPF,EAASG,SAAQ,SAACC,EAAOC,GAC7B,EAAKC,SAAS,CAAE3B,MAAOyB,OAJZ,cAOLzB,EAAU,EAAKU,MAAfV,MAPK,SASU4B,IAAMC,IAAN,4DACgCf,EADhC,4DAC0Fd,IAVpG,OASP8B,EATO,OAab,EAAKH,SAAS,CAAE7B,OAAQgC,EAASC,KAAKC,UAbzB,2CAhBjB,4OAQQC,KAAKC,MAAMnC,SAASC,MAR5B,gCAS6B4B,IAAMC,IAAN,4DACgCf,EADhC,4DAC0FmB,KAAKC,MAAMnC,SAASC,QAV3I,OASY8B,EATZ,OAYMG,KAAKN,SAAS,CAAE7B,OAAQgC,EAASC,KAAKC,QAAShC,MAAQiC,KAAKC,MAAMnC,SAASC,QAZjF,qIAiCI,OACE,oCACE,0BAAMmC,SAAUF,KAAKhB,cACnB,2BACEmB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTZ,KAAK,QACLa,YAAY,gBACZhC,UAAU,gBAEZ,4BAAQ6B,KAAK,SAAS7B,UAAU,kBAAhC,WAIF,kBAAC,EAAD,CACET,OAAQmC,KAAKvB,MAAMZ,OACnBC,SAAUkC,KAAKC,MAAMnC,SACrBC,MAAOiC,KAAKvB,MAAMV,aAnD5B,GAAgCwC,aA0DjBzB","file":"static/js/Movies-Page.9452aa64.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst MovieList = ({ movies, location, query }) => {\r\n  console.log(location);\r\n  return (\r\n    <ul>\r\n      {movies.map(movie => (\r\n        <li key={movie.id}>\r\n          <Link\r\n            className=\"Link\"\r\n            to={{\r\n              pathname: `/movies/${movie.id}`,\r\n              state: { from: location.pathname, query },\r\n            }}\r\n          >\r\n            {movie.original_title || movie.original_name}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default MovieList;\r\n","import React, { Component } from 'react';\r\nimport Axios from 'axios';\r\nimport MovieList from '../view/MovieList';\r\nconst apiKey = 'c6a84470b29816d87dd13d4e239e0619';\r\n\r\nexport class MoviesPage extends Component {\r\n  state = {\r\n    query: '',\r\n    page: '',\r\n    movies: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    if (this.props.location.query) {\r\n      const response = await Axios.get(\r\n        `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&page=1&include_adult=false&query=${this.props.location.query}`,\r\n      );\r\n      this.setState({ movies: response.data.results, query : this.props.location.query,  });\r\n    }\r\n  }\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    await formData.forEach((value, name) => {\r\n      this.setState({ query: value });\r\n    });\r\n\r\n    const { query } = this.state;\r\n\r\n    const response = await Axios.get(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&page=1&include_adult=false&query=${query}`,\r\n    );\r\n\r\n    this.setState({ movies: response.data.results });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            name=\"query\"\r\n            placeholder=\"Search movies\"\r\n            className=\"SearchInput\"\r\n          ></input>\r\n          <button type=\"submit\" className=\"SearchInputBtn\">\r\n            Search\r\n          </button>\r\n        </form>\r\n        <MovieList\r\n          movies={this.state.movies}\r\n          location={this.props.location}\r\n          query={this.state.query}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}